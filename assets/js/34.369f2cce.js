(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{306:function(v,_,t){"use strict";t.r(_);var r=t(14),e=Object(r.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"平行越权、垂直越权"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#平行越权、垂直越权"}},[v._v("#")]),v._v(" 平行越权、垂直越权")]),v._v(" "),_("p",[v._v("逻辑漏洞 => 验证码绕过、密码找回、越权、支付漏洞")]),v._v(" "),_("p",[v._v("逻辑漏洞有一个好处，你可以什么都不懂，套就完事了。但是思维一定要发散")]),v._v(" "),_("blockquote",[_("p",[v._v("水平越权：\n社区登录了A用户账户。但是可以看到B用户的信息只不过只有同等权限。")])]),v._v(" "),_("br"),v._v(" "),_("blockquote",[_("p",[v._v("垂直越权：\n向上：低权限用户可以操作高权限的东西\n向下：高权限用户受到限制导致实际只有低权限的控制权")])]),v._v(" "),_("p",[v._v("还有一种特殊情况"),_("code",[v._v("交叉越权")]),v._v("就是既可以水平，也可以垂直")]),v._v(" "),_("h2",{attrs:{id:"未授权访问"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#未授权访问"}},[v._v("#")]),v._v(" 未授权访问")]),v._v(" "),_("p",[v._v("还有一种类型是未授权访问，严格意义上而言这个不属于越权漏洞，但是在日常测试中常常会遇见")]),v._v(" "),_("blockquote",[_("p",[v._v("只要输入正确的网址就可以直接访问，例如/"),_("code",[v._v("admin")]),v._v("默认就是登录，登录后跳转到"),_("code",[v._v("user.php")]),v._v("，然后你就可以直接访问"),_("code",[v._v("user.php")]),v._v("，发现你直接有后台权限")])]),v._v(" "),_("p",[_("strong",[v._v("把握住一个传参就能把握渗透测试的命脉！！")])]),v._v(" "),_("h3",{attrs:{id:"越权测试"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#越权测试"}},[v._v("#")]),v._v(" 越权测试")]),v._v(" "),_("p",[v._v("登录A用户，正常更改或是查看A用户的信息，然后抓取数据包，将传参ID修改为其他用户，如果成功查看到或者修改了同权限其他用户的信息就属于水平越权测试。（如果可以影响到高权限用户就是垂直越权）")]),v._v(" "),_("p",[v._v("传参ID参数需要自己检测（常见：uid= id= user= 等）通常使用burp进行爆破传参（传参可能在GET POST COOKIE）")]),v._v(" "),_("p",[v._v("常见平行越权（不需要输入原密码的修改密码，抓包改用户名或者用户id修改他人密码）")]),v._v(" "),_("p",[v._v("修改资料的时候修改用户id")]),v._v(" "),_("p",[v._v("查看订单的时候遍历订单id")]),v._v(" "),_("h2",{attrs:{id:"支付漏洞"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#支付漏洞"}},[v._v("#")]),v._v(" 支付漏洞")]),v._v(" "),_("p",[v._v("商户网站接入支付结果有两种方式，一种是通过浏览器进行跳转通知，一种是服务器异端同步通知")]),v._v(" "),_("ul",[_("li",[v._v("浏览器跳转")])]),v._v(" "),_("blockquote",[_("p",[v._v("基于用户访问的浏览器，如果用户在银行页面支付成功后，直接关闭了页面，并未等待银行跳转到支付结果页面，那么商户网站就收不到支付结果的通知，导致支付结果难以处理。而且浏览器端数据很容易被篡改而降低安全性")])]),v._v(" "),_("ul",[_("li",[v._v("服务器端异步通知")])]),v._v(" "),_("blockquote",[_("p",[v._v("该方式是支付公司服务器后台直接向用户指定的异步通知url发送参数，采用POST或GET方式。商户网站接受异步参数的url对应的程序中，要支付公司返回的支付结果进行签名验证，成功后进行支付逻辑处理，如验证金额、订单信息是否发起支付时一致，验证正常则对订单进行状态处理或为用户进行网站内入账等")])]),v._v(" "),_("ul",[_("li",[v._v("越权支付")])]),v._v(" "),_("blockquote",[_("p",[v._v("存在usre=id这种传参的时候，尝试改变id，就有可能尝试用别人的钱包买自己的包包")])])])}),[],!1,null,null,null);_.default=e.exports}}]);